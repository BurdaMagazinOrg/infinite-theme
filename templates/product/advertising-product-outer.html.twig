{% if show_strikethrough_price %}
    {% set attributes = attributes.addClass('item-product--strikethrough') %}
{% endif %}

{% if show_strikethrough_price %}
    {% set percentage_saving = (((content.product_price.0 | render | trim) - (content.product_original_price.0 | render  | trim)) / (content.product_original_price.0 | render  | trim )) * 100 %}
{% endif %}

{% if sold_out %}
    {% set attributes = attributes.addClass('item-product--sold-out') %}
    {% set data_attributes = data_attributes.removeAttribute('data-external-url') %}
{% endif %}

{% if content.field_product_category_txt | render is not empty %}
    {% set data_attributes = data_attributes.setAttribute('data-product-category', content.field_product_category_txt | render | striptags | trim) %}
{% endif %}

{% if content.status %}
    {% block product_attach_library %}
        {{ attach_library('infinite/infinite.views.product-view') }}
    {% endblock %}

    <div {{ attributes.addClass(classes) }} {{ data_attributes }}>
        {% block content_block %}
            {% include '@infinite/product/advertising-product-inner.html.twig' %}
        {% endblock %}
    </div>
{% endif %}
