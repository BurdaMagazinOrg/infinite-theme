{% set classes = [
  'item-content',
  'item-content--coupon',
  'item-content--coupon--content_reference',
  'item-content--coupon--' ~ view_mode,
  node.isSticky() ? 'sticky',
] %}

{{ attach_library('infinite/coupons') }}

<div{{ attributes.addclass(classes) }}>
    <a href="/affiliatelinks" class="coupon__affiliatelink" rel="nofollow">
        <div class="affiliatelinks">Affiliatelink</div>
    </a>
    <div class="coupon" data-expires="{{ end_date }}">
        {% block coupon_logo %}{% endblock %}
        <h3 class="coupon__title">{{ label }}</h3>
        <div class="coupon__brand">
            {% block coupon_teaser %}
                {% if content.field_logo | render is not empty %}
                    <div class="coupon__brand--logo">{{ content.field_logo }}</div>
                {% endif %}
            {% endblock %}
        </div>
        {% if content.field_coupon_discount | render is not empty %}
            <div class="coupon__discount">
                <span class="coupon__discount--value">
                    <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 71.591 71.591">
                        <defs></defs>
                        <g id="Gruppe_30" data-name="Gruppe 30" transform="translate(-1053 -2558)">
                            <path id="Pfad_14" data-name="Pfad 14" d="M35.867,0l2.869,3.443L42.18.574l2.3,3.874L48.492,2.3l1.435,4.3,4.3-1.578.717,4.591L59.4,8.9v4.448l4.448.143-.861,4.448,4.448,1L65.708,23.1l4.3,1.722-2.439,3.874,3.73,2.3-3.013,3.443,3.3,3.013L68,40.171,70.73,43.9,66.713,45.91l2.152,4.017-4.448,1.291,1.291,4.448-4.448.43.43,4.591L57.244,60.4l-.287,4.448-4.448-1-1.148,4.3L47.2,66.282l-1.865,4.161-3.73-2.582-2.582,3.73-3.156-3.156-3.3,3.156-2.582-3.73-3.73,2.582L24.39,66.282l-4.161,1.865-1.148-4.3-4.3,1L14.49,60.4,9.9,60.687l.43-4.591-4.448-.43,1.291-4.448-4.3-1.291L4.878,45.91.861,43.9l2.726-3.73L0,37.445l3.3-3.013L.287,30.989l3.874-2.3L1.722,24.82,5.882,23.1,4.3,18.938l4.3-1-.861-4.448,4.591-.143L12.195,8.9l4.448.717L17.5,5.021,21.664,6.6l1.578-4.3,3.874,2.152,2.3-3.874,3.443,2.869Z" transform="translate(1053 2558)"/>
                            <text id="Jetzt" class="cls-1" style="fill: #fff; font-weight: 700;font-size: 12px; font-family: PTSans-NarrowBold, PT Sans Narrow; letter-spacing: 0.025em;" transform="translate(1086.232 2612.71)">
                                <tspan x="-12.365" y="0">Rabatt</tspan>
                            </text>
                            <text id="_20" data-name="20" class="cls-2" style="fill: #fff; font-weight: 700;font-size: 32px; font-family: NotoSerif-Bold, Noto Serif;" transform="translate(1089.283 2598.393)">
                                <tspan x="-24.231" y="0">{{ content.field_coupon_discount  | render | trim }}</tspan>
                                <tspan style="font-size: 14px;" class="cls-3" y="0">%</tspan>
                            </text>
                        </g>
                    </svg>
                </span>
            </div>
        {% endif %}
        <div class="coupon__tnc">
            {% if content.field_tnc | render is not empty %}
                <div class="coupon__tnc-label expandable">Teilnahmebedingungen</div>
                <div class="coupon__tnc-details">
                    {{ content.field_tnc }}
                </div>
            {% endif %}
        </div>
        <div class="coupon__code--wrapper">
            {% if content.field_coupon_code | render is not empty %}
                <div class="coupon__code">
                    <span class="coupon__code--label">Gutscheincode:</span>
                    {{ content.field_coupon_code }}
                </div>
            {% endif %}
            <div class="coupon__button">
                {{ content.field_url }}
            </div>
        </div>
        {% block advertising_products %}{% endblock %}
        {% block validity %}{% endblock %}
    </div>
    <div class="coupon__expired">
        <svg version="1.1" id="Ebene_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewbox="0 0 110.4 110.4" style="enable-background:new 0 0 110.4 110.4;" xml:space="preserve">
            <g id="Gruppe_31" transform="translate(-429.879 -2729.312) rotate(13)">
                <path id="Pfad_14" d="M1099.1,2557.9l3.7,4.4l4.4-3.7l3,5l5.2-2.8l1.8,5.5l5.5-2l0.9,5.9l5.7-0.9v5.7l5.7,0.2l-1.1,5.7l5.7,1.3
		l-2.2,5.3l5.5,2.2l-3.1,5l4.8,3l-3.9,4.4l4.2,3.9l-4.6,3.5l3.5,4.8l-5.2,2.6l2.8,5.2l-5.7,1.7l1.7,5.7l-5.7,0.6l0.6,5.9l-5.7-0.4
		l-0.4,5.7l-5.7-1.3l-1.5,5.5l-5.4-2.4l-2.4,5.4l-4.8-3.3l-3.3,4.8l-4.1-4.1l-4.2,4.1l-3.3-4.8l-4.8,3.3l-2.4-5.4l-5.4,2.4l-1.5-5.5
		l-5.5,1.3l-0.4-5.7l-5.9,0.4l0.6-5.9l-5.7-0.6l1.7-5.7l-5.5-1.7l2.6-5.2l-5.2-2.6l3.5-4.8l-4.6-3.5l4.2-3.9l-3.9-4.4l5-2.9l-3.1-5
		l5.3-2.2l-2-5.3l5.5-1.3l-1.1-5.7l5.9-0.2l-0.2-5.7l5.7,0.9l1.1-5.9l5.3,2l2-5.5l5,2.8l3-5l4.4,3.7L1099.1,2557.9z"/>
            </g>
            <g>
                <g style="enable-background:new;">
                    <path style="fill:#FFFFFF;" d="M41,47.8l-6-1.5l2.4-9.5l1.9,0.5l-2,7.8l4.2,1.1L41,47.8z"/>
                    <path style="fill:#FFFFFF;" d="M44.8,38.7l5.6,1.4L50,41.8l-3.8-1L45.7,43l3.4,0.9l-0.4,1.7l-3.4-0.9L44.7,47l3.8,1l-0.4,1.7l-5.7-1.4
			L44.8,38.7z"/>
                    <path style="fill:#FFFFFF;" d="M52.5,40.6l1.9,0.5l-2.4,9.5l-1.9-0.5L52.5,40.6z"/>
                    <path style="fill:#FFFFFF;" d="M56.5,41.7c0.2,0,0.4,0.1,0.7,0.1c0.2,0,0.5,0.1,0.8,0.1c0.3,0.1,0.5,0.1,0.7,0.2c0.2,0.1,0.5,0.1,0.6,0.2
			c0.8,0.2,1.5,0.5,2.1,0.9c0.5,0.4,0.9,0.8,1.2,1.4c0.3,0.5,0.4,1.1,0.4,1.7c0,0.6-0.1,1.3-0.2,2c-0.2,0.6-0.4,1.2-0.7,1.8
			c-0.3,0.6-0.7,1-1.2,1.4c-0.5,0.4-1.1,0.6-1.8,0.7c-0.7,0.1-1.5,0.1-2.4-0.2c-0.1,0-0.3-0.1-0.6-0.2c-0.2-0.1-0.5-0.1-0.7-0.2
			c-0.3-0.1-0.5-0.2-0.7-0.2c-0.2-0.1-0.4-0.1-0.5-0.2L56.5,41.7z M59.1,43.9c-0.2-0.1-0.4-0.1-0.6-0.1c-0.2,0-0.4-0.1-0.5-0.1
			l-1.6,6.4c0,0,0.1,0,0.2,0.1c0.1,0,0.2,0.1,0.3,0.1c0.1,0,0.2,0.1,0.3,0.1c0.1,0,0.2,0,0.2,0.1c0.5,0.1,1,0.2,1.4,0.1
			c0.4-0.1,0.7-0.3,1-0.5s0.5-0.6,0.7-1c0.2-0.4,0.3-0.8,0.4-1.2C61,47.3,61,47,61,46.6c0-0.4,0-0.8-0.1-1.1
			c-0.1-0.3-0.3-0.7-0.6-0.9C60,44.2,59.6,44,59.1,43.9z"/>
                    <path style="fill:#FFFFFF;" d="M65.7,44l5.6,1.4L71,47.1l-3.8-1l-0.6,2.2l3.4,0.9l-0.4,1.7L66.2,50l-0.6,2.3l3.8,1L69,54.9l-5.7-1.4L65.7,44
			z"/>
                    <path style="fill:#FFFFFF;" d="M73.2,46c0.2,0,0.5,0,0.7,0.1c0.2,0,0.5,0.1,0.7,0.1c0.2,0,0.5,0.1,0.7,0.1c0.2,0,0.4,0.1,0.6,0.1
			c0.4,0.1,0.9,0.3,1.3,0.5s0.8,0.4,1,0.7c0.3,0.3,0.5,0.6,0.6,1c0.1,0.4,0.1,0.9,0,1.4c-0.2,0.8-0.5,1.4-1,1.8s-1.1,0.6-1.7,0.7
			l0.6,0.6l1.3,4.2l-2.1-0.5l-1.2-4.3L73.7,52l-1,3.9l-1.9-0.5L73.2,46z M75.7,48.1c-0.2,0-0.4-0.1-0.6-0.1c-0.2,0-0.3-0.1-0.4-0.1
			L74,50.7l0.8,0.2c0.5,0.1,1,0.1,1.3,0c0.4-0.2,0.6-0.5,0.8-1.1c0.1-0.4,0.1-0.8-0.1-1.1C76.5,48.5,76.2,48.2,75.7,48.1z"/>
                </g>
                <g style="enable-background:new;">
                    <path style="fill:#FFFFFF;" d="M26.2,55.4L26,57.1l0.1,0l0.7-1.6l3.2-5.1l2,0.5l-6,8.7l-1.3-0.3l-1.1-10.5l2.2,0.5L26.2,55.4z"/>
                    <path style="fill:#FFFFFF;" d="M33.1,51.2l5.6,1.4l-0.4,1.7l-3.8-1L34,55.5l3.4,0.9L37,58.1l-3.4-0.9L33,59.5l3.8,1l-0.4,1.7l-5.7-1.4
			L33.1,51.2z"/>
                    <path style="fill:#FFFFFF;" d="M40.5,53.2c0.2,0,0.4,0,0.7,0.1c0.2,0,0.5,0.1,0.7,0.1c0.2,0,0.5,0.1,0.7,0.1c0.2,0,0.4,0.1,0.6,0.1
			c0.4,0.1,0.9,0.3,1.3,0.5c0.4,0.2,0.8,0.4,1,0.7c0.3,0.3,0.5,0.6,0.6,1c0.1,0.4,0.1,0.9,0,1.4c-0.2,0.8-0.5,1.4-1,1.8
			c-0.5,0.4-1.1,0.6-1.7,0.7l0.6,0.6l1.3,4.2l-2.1-0.5l-1.2-4.3L41,59.2l-1,3.9l-1.9-0.5L40.5,53.2z M43,55.3
			c-0.2,0-0.4-0.1-0.6-0.1c-0.2,0-0.3-0.1-0.4-0.1l-0.7,2.8l0.8,0.2c0.5,0.1,1,0.1,1.3,0c0.4-0.2,0.6-0.5,0.8-1.1
			c0.1-0.4,0.1-0.8-0.1-1.1C43.9,55.7,43.5,55.4,43,55.3z"/>
                    <path style="fill:#FFFFFF;" d="M49.1,55.4c0.4,0,0.8,0.1,1.3,0.1c0.5,0.1,0.9,0.2,1.4,0.3c0.5,0.1,0.9,0.3,1.4,0.5c0.5,0.2,0.8,0.5,1.2,0.8
			c0.3,0.3,0.5,0.7,0.7,1.2c0.1,0.5,0.1,1,0,1.7c-0.2,0.6-0.4,1.1-0.7,1.4c-0.3,0.4-0.7,0.6-1.1,0.8c-0.4,0.2-0.8,0.3-1.3,0.3
			c-0.5,0-0.9-0.1-1.4-0.2c0,0-0.1,0-0.2-0.1c-0.1,0-0.2-0.1-0.3-0.1c-0.1,0-0.2-0.1-0.3-0.1c-0.1,0-0.2-0.1-0.2-0.1l-0.8,3.3
			l-1.9-0.5L49.1,55.4z M51.5,57.4c-0.2,0-0.4-0.1-0.5-0.1s-0.3,0-0.4-0.1l-0.8,3.1c0,0,0.1,0,0.2,0.1c0.1,0,0.1,0.1,0.2,0.1
			c0.1,0,0.2,0,0.2,0.1c0.1,0,0.1,0,0.2,0c0.2,0.1,0.5,0.1,0.7,0.1c0.3,0,0.5,0,0.7-0.1c0.2-0.1,0.4-0.2,0.6-0.4
			c0.2-0.2,0.3-0.5,0.4-0.8c0.1-0.3,0.1-0.6,0-0.8c-0.1-0.2-0.2-0.4-0.3-0.6c-0.1-0.2-0.3-0.3-0.5-0.4C52,57.6,51.8,57.5,51.5,57.4z
			"/>
                    <path style="fill:#FFFFFF;" d="M59.1,65.6l-2.9-0.7l-1.3,1.9l-1.9-0.5l5.8-8.7l1.4,0.3l1,10.4l-2-0.5L59.1,65.6z M57,63.5l2,0.5l-0.2-2.3
			l0.1-1.6l-0.1,0l-0.7,1.4L57,63.5z"/>
                    <path style="fill:#FFFFFF;" d="M67.2,67.2c0.1-0.3,0-0.6-0.1-0.8c-0.2-0.2-0.4-0.5-0.7-0.7c-0.3-0.2-0.6-0.5-0.9-0.7
			c-0.3-0.3-0.6-0.5-0.9-0.8s-0.5-0.7-0.6-1.1c-0.1-0.4-0.1-0.9,0-1.4c0.1-0.5,0.3-0.8,0.5-1.1c0.2-0.3,0.5-0.5,0.9-0.7
			c0.3-0.2,0.7-0.2,1.1-0.2s0.9,0,1.3,0.2c0.6,0.1,1.1,0.3,1.5,0.5c0.5,0.2,0.8,0.5,1.1,0.7l-1,1.4c-0.2-0.2-0.4-0.4-0.8-0.6
			c-0.4-0.2-0.8-0.4-1.3-0.5c-0.4-0.1-0.8-0.1-1.1,0c-0.3,0.1-0.4,0.3-0.5,0.6c-0.1,0.3,0,0.5,0.1,0.8s0.4,0.5,0.7,0.7
			c0.3,0.2,0.6,0.5,0.9,0.7c0.3,0.3,0.6,0.5,0.9,0.9c0.3,0.3,0.5,0.7,0.6,1.1c0.1,0.4,0.1,0.8,0,1.4c-0.1,0.5-0.3,0.9-0.6,1.2
			c-0.3,0.3-0.6,0.6-0.9,0.7c-0.4,0.2-0.8,0.3-1.2,0.3c-0.5,0-0.9-0.1-1.5-0.2c-0.7-0.2-1.3-0.4-1.7-0.6c-0.5-0.3-0.8-0.5-1-0.7
			l1-1.4c0.1,0.1,0.2,0.2,0.3,0.3c0.1,0.1,0.3,0.2,0.5,0.3c0.2,0.1,0.4,0.2,0.6,0.3c0.2,0.1,0.4,0.2,0.7,0.2c0.6,0.1,1,0.2,1.3,0
			C66.9,67.9,67.1,67.6,67.2,67.2z"/>
                    <path style="fill:#FFFFFF;" d="M74.8,69.2c0.1-0.3,0-0.6-0.1-0.8c-0.2-0.2-0.4-0.5-0.7-0.7c-0.3-0.2-0.6-0.5-0.9-0.7
			c-0.3-0.3-0.6-0.5-0.9-0.8s-0.5-0.7-0.6-1.1c-0.1-0.4-0.1-0.9,0-1.4c0.1-0.5,0.3-0.8,0.5-1.1c0.2-0.3,0.5-0.5,0.9-0.7
			c0.3-0.2,0.7-0.2,1.1-0.2c0.4,0,0.9,0,1.3,0.2c0.6,0.1,1.1,0.3,1.5,0.5c0.5,0.2,0.8,0.5,1.1,0.7l-1,1.4c-0.2-0.2-0.4-0.4-0.8-0.6
			c-0.4-0.2-0.8-0.4-1.3-0.5c-0.4-0.1-0.8-0.1-1.1,0c-0.3,0.1-0.4,0.3-0.5,0.6c-0.1,0.3,0,0.5,0.1,0.8s0.4,0.5,0.7,0.7
			c0.3,0.2,0.6,0.5,0.9,0.7c0.3,0.3,0.6,0.5,0.9,0.9c0.3,0.3,0.5,0.7,0.6,1.1c0.1,0.4,0.1,0.8,0,1.4c-0.1,0.5-0.3,0.9-0.6,1.2
			c-0.3,0.3-0.6,0.6-0.9,0.7c-0.4,0.2-0.8,0.3-1.2,0.3c-0.5,0-0.9-0.1-1.5-0.2c-0.7-0.2-1.3-0.4-1.7-0.6c-0.5-0.3-0.8-0.5-1-0.7
			l1-1.4c0.1,0.1,0.2,0.2,0.3,0.3c0.1,0.1,0.3,0.2,0.5,0.3c0.2,0.1,0.4,0.2,0.6,0.3c0.2,0.1,0.4,0.2,0.7,0.2c0.6,0.1,1,0.2,1.3,0
			C74.5,69.8,74.7,69.5,74.8,69.2z"/>
                    <path style="fill:#FFFFFF;" d="M86.4,66.5l-2.8-0.7l-2,7.8l-1.9-0.5l2-7.8L79,64.6l0.4-1.7l7.4,1.9L86.4,66.5z"/>
                </g>
            </g>
        </svg>
    </div>
    {% if content.field_tracking_pixel | render is not empty %}
        <div class="coupon__tracking-pixel">
            {{ content.field_tracking_pixel }}
        </div>
    {% endif %}
</div>
